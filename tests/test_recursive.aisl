(mod test
  (fn multiply a int b int -> int
    (ret (call mul a b)))
  
  (test-spec multiply
    (case "multiply positive numbers"
      (input 6 7)
      (expect 42))
    (case "multiply by zero"
      (input 5 0)
      (expect 0))
    (case "multiply by one"
      (input 10 1)
      (expect 10))
    (case "multiply negative numbers"
      (input -3 4)
      (expect -12)))
  
  (fn factorial n int -> int
    (ret (call if_i32 
      (call le n 1)
      1
      (call mul n (call factorial (call sub n 1))))))
  
  (test-spec factorial
    (case "factorial of 5"
      (input 5)
      (expect 120))
    (case "factorial of 0"
      (input 0)
      (expect 1))
    (case "factorial of 1"
      (input 1)
      (expect 1))
    (case "factorial of 3"
      (input 3)
      (expect 6))
    (case "factorial of 4"
      (input 4)
      (expect 24)))
  
  (meta-note "Tests recursive function factorial and multiply operation"))