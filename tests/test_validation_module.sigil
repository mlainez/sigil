(module test_validation
  (import validation)
  
  (fn test_in_range_true -> int
    (set in_range_result bool (in_range 5 1 10))
    (if in_range_result
      (ret 1))
    (ret 0))
  
  (fn test_in_range_false -> int
    (set out_of_range bool (in_range 15 1 10))
    (if (not out_of_range)
      (ret 1))
    (ret 0))
  
  (fn test_is_divisible_true -> int
    (set is_div bool (is_divisible_by 10 5))
    (if is_div
      (ret 1))
    (ret 0))
  
  (fn test_is_divisible_false -> int
    (set not_div bool (is_divisible_by 10 3))
    (if (not not_div)
      (ret 1))
    (ret 0))
  
  (test-spec test_in_range_true
    (case "validates 5 is in range [1, 10]"
      (input)
      (expect 1)))
  
  (test-spec test_in_range_false
    (case "validates 15 is not in range [1, 10]"
      (input)
      (expect 1)))
  
  (test-spec test_is_divisible_true
    (case "validates 10 is divisible by 5"
      (input)
      (expect 1)))
  
  (test-spec test_is_divisible_false
    (case "validates 10 is not divisible by 3"
      (input)
      (expect 1)))
  
  (meta-note "Tests validation module functions"))
