(module test_final_http_json
  (import http)
  (import json_utils)
  
  (fn main -> int
    (call print "Testing HTTP module:")
    (set status_200 string (call get_status_text 200))
    (call print status_200)
    (set status_404 string (call get_status_text 404))
    (call print status_404)
    
    (call print "Testing JSON module:")
    (set obj map (call build_object_one "name" "Alice"))
    (set obj_str string (call to_string obj))
    (call print obj_str)
    
    (set arr array (call build_array_one "hello"))
    (set arr_str string (call array_to_string arr))
    (call print arr_str)
    
    (set is_obj bool (call is_object obj))
    (call print "Object check:")
    (call print is_obj)
    
    (set is_arr bool (call is_array arr))
    (call print "Array check:")
    (call print is_arr)
    
    (call print "All tests passed!")
    (ret 0)))
