(module test_abs_clone
  (fn abs x int -> int
    (set is_neg bool (call lt x 0))
    (if is_neg
      (ret (call neg x)))
    (ret x))
  
  (test-spec abs
    (case "returns positive number unchanged"
      (input 10)
      (expect 10))
    (case "converts negative to positive"
      (input -5)
      (expect 5))
    (case "handles zero"
      (input 0)
      (expect 0))
    (case "handles large negative"
      (input -100)
      (expect 100)))
  
  (meta-note "Tests inline abs function - clone of built-in abs operation"))
