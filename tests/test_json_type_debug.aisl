(module test_json_type
  (import json_utils)
  (fn main -> int
    (call print "Testing JSON type detection:")
    
    (set obj map (call json_new_object))
    (call print "Created object")
    
    (set type_str string (call json_type obj))
    (call print "Type string:")
    (call print type_str)
    
    (set check bool (call string_eq type_str "object"))
    (call print "String comparison result:")
    (call print check)
    
    (set arr array (call json_new_array))
    (call print "Created array")
    
    (set is_arr bool (call is_array arr))
    (call print "Array check:")
    (call print is_arr)
    
    (ret 0)))
