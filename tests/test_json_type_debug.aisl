(module test_json_type
  (import json_utils)
  
  (fn get_object_type -> string
    (set obj map (call json_new_object))
    (ret (call json_type obj)))
  
  (fn check_is_array -> bool
    (set arr array (call json_new_array))
    (ret (call is_array arr)))
  
  (fn check_is_object -> bool
    (set obj map (call json_new_object))
    (ret (call is_object obj)))
  
  (test-spec get_object_type
    (case "returns 'object' for json objects"
      (input)
      (expect "object")))
  
  (test-spec check_is_array
    (case "returns true for json arrays"
      (input)
      (expect true)))
  
  (test-spec check_is_object
    (case "returns true for json objects"
      (input)
      (expect true)))
  
  (meta-note "Tests JSON type detection functions: json_type, is_array, is_object"))
