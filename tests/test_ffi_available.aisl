(module test_ffi_available
  (fn test_available_true -> int
    (set available bool (call ffi_available "libaisl_test"))
    (if available
      (ret 1))
    (ret 0))
  
  (fn test_available_false -> int
    (set available bool (call ffi_available "libaisl_nonexistent"))
    (if available
      (ret 1))
    (ret 0))
  
  (test-spec test_available_true
    (case "returns true for existing library"
      (input)
      (expect 1)))
  
  (test-spec test_available_false
    (case "returns false for non-existent library"
      (input)
      (expect 0)))
  
  (meta-note "Tests FFI library availability checking"))
