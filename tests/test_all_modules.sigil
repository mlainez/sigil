(module test_all_modules
  (import math)
  (import math_extended)
  (import array_utils)
  (import conversion)
  (import validation)
  
  (fn test_math_abs -> int
    (ret (abs -42)))
  
  (fn test_math_min -> int
    (ret (min 10 5)))
  
  (fn test_clamp -> int
    (ret (clamp 15 0 10)))
  
  (fn test_sign -> int
    (ret (sign -5)))
  
  (fn test_square -> int
    (ret (square 7)))
  
  (fn test_array_sum -> int
    (set arr array (array_range 1 6))
    (ret (array_sum arr 5)))
  
  (fn test_array_find -> int
    (set arr array (array_range 1 6))
    (ret (array_find arr 3 5)))
  
  (fn test_bool_to_int -> int
    (set bool_val bool true)
    (ret (bool_to_int bool_val)))
  
  (fn test_in_range -> int
    (set in_range_result bool (in_range 5 0 10))
    (if in_range_result
      (ret 1))
    (ret 0))
  
  (fn test_is_positive -> int
    (set is_pos bool (is_positive 42))
    (if is_pos
      (ret 1))
    (ret 0))
  
  (test-spec test_math_abs
    (case "abs of -42"
      (input)
      (expect 42)))
  
  (test-spec test_math_min
    (case "min of 10 and 5"
      (input)
      (expect 5)))
  
  (test-spec test_clamp
    (case "clamps 15 to range [0, 10]"
      (input)
      (expect 10)))
  
  (test-spec test_sign
    (case "sign of -5"
      (input)
      (expect -1)))
  
  (test-spec test_square
    (case "square of 7"
      (input)
      (expect 49)))
  
  (test-spec test_array_sum
    (case "sum of array [1, 2, 3, 4, 5]"
      (input)
      (expect 15)))
  
  (test-spec test_array_find
    (case "finds 3 in array [1, 2, 3, 4, 5]"
      (input)
      (expect 2)))
  
  (test-spec test_bool_to_int
    (case "converts true to int"
      (input)
      (expect 1)))
  
  (test-spec test_in_range
    (case "validates 5 in range [0, 10]"
      (input)
      (expect 1)))
  
  (test-spec test_is_positive
    (case "validates 42 is positive"
      (input)
      (expect 1)))
  
  (meta-note "Integration tests for math, math_extended, array_utils, conversion, and validation modules"))
