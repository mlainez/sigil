(mod test
  (fn mul_then_add ((x i32) (y i32) (z i32)) -> i32
    (ret (call add (call mul x y) z)))
  
  (test-spec mul_then_add
    (case "10 * 20 + 30"
      (input 10 20 30)
      (expect 230))
    (case "5 * 3 + 10"
      (input 5 3 10)
      (expect 25))
    (case "with zeros"
      (input 0 10 5)
      (expect 5)))
  
  (fn mul_f32 ((a f32) (b f32)) -> f32
    (ret (call mul a b)))
  
  (test-spec mul_f32
    (case "pi * 2"
      (input 3.14 2.0)
      (expect 6.28))
    (case "multiply by zero"
      (input 5.5 0.0)
      (expect 0.0)))
  
  (meta-note "Tests complex expressions with multiple variables and operations"))
