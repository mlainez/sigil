(module test
  (fn push_two_length val1 int val2 int -> int
    (ret (array_length (array_push (array_push (array_new) val1) val2))))
  
  (test-spec push_two_length
    (case "push two elements"
      (input 42 100)
      (expect 2))
    (case "push different values"
      (input 1 2)
      (expect 2))
    (case "push same values"
      (input 10 10)
      (expect 2)))
  
  (meta-note "Tests array_push adds elements and increases array_length"))