(module test_loop
  (fn test_loop -> int
    (set count int 0)
    (loop
      (print "In loop")
      (set count int (add count 1))
      (if (ge count 3)
        (break)))
    (ret count))

  (test-spec test_loop
    (case "infinite loop with manual exit"
      (input)
      (expect 3)))
  
  (meta-note "Tests infinite loop construct with explicit break for termination"))
