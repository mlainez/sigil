(module test_json_simple
  (import json_utils)
  
  (fn main -> int
    (call print "Testing JSON module")
    
    (call print "Creating object with one key:")
    (set obj map (call build_object_one "name" "Alice"))
    (set obj_str string (call to_string obj))
    (call print obj_str)
    
    (call print "Creating array with one element:")
    (set arr array (call build_array_one "hello"))
    (set arr_str string (call array_to_string arr))
    (call print arr_str)
    
    (call print "Testing object detection:")
    (set is_obj bool (call is_object obj))
    (call print is_obj)
    
    (call print "Testing array detection:")
    (set is_arr bool (call is_array arr))
    (call print is_arr)
    
    (call print "All tests passed!")
    (ret 0)))
