(module test_goto_loop
  (fn count_to_five -> int
    (set n int 0)
    (label loop_start)
    (set n int (add n 1))
    (ifnot (lt n 5) loop_end)
    (goto loop_start)
    (label loop_end)
    (ret n))

  (test-spec count_to_five
    (case "count using goto/label"
      (input)
      (expect 5)))
  
  (meta-note "Tests low-level goto and label constructs for manual control flow"))
