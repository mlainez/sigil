(module test_validation_math
  (import validation)
  (import math_extended)
  
  (fn test_in_range -> int
    (set in_range_result bool (call in_range 5 0 10))
    (if in_range_result
      (ret 1))
    (ret 0))
  
  (fn test_is_positive -> int
    (set is_pos bool (call is_positive 10))
    (if is_pos
      (ret 1))
    (ret 0))
  
  (fn test_clamp -> int
    (ret (call clamp -5 0 10)))
  
  (fn test_sign -> int
    (ret (call sign -42)))
  
  (fn test_is_even -> int
    (set even bool (call is_even 4))
    (if even
      (ret 1))
    (ret 0))
  
  (test-spec test_in_range
    (case "validates number in range"
      (input)
      (expect 1)))
  
  (test-spec test_is_positive
    (case "validates positive number"
      (input)
      (expect 1)))
  
  (test-spec test_clamp
    (case "clamps -5 to range [0, 10]"
      (input)
      (expect 0)))
  
  (test-spec test_sign
    (case "gets sign of -42"
      (input)
      (expect -1)))
  
  (test-spec test_is_even
    (case "checks if 4 is even"
      (input)
      (expect 1)))
  
  (meta-note "Tests validation and math_extended modules"))
